(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9603],{3454:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return a(6842)}])},6842:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return u}});var t=a(1527),n=a(959),r=a(8467),l=a(445),i=a(8289),c=a(373),d=a(5060),h=a(6133),o=a(6764),x=a(998);function u(){let[e,s]=n.useState(""),[a,u]=n.useState(""),{complete:m,completion:f,isLoading:p,error:j}=(0,i.G)({api:"/api/vector-search"}),N=a=>{a.preventDefault(),m(e),s("")};return n.useEffect(()=>{f&&!j?u("I have an answer for you!"):u("")},[f,j]),(0,t.jsxs)("div",{className:"search-page-container",children:[(0,t.jsxs)("header",{className:"search-header",children:[(0,t.jsx)("h1",{children:"Documentation Smart Search"}),(0,t.jsx)("p",{children:"Hello! I am a helper bot that can answer your questions about Remote Incident Manager. Enter a query and I will answer it to the best of my ability."}),(0,t.jsx)("hr",{})]}),(0,t.jsxs)("form",{onSubmit:N,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4 text-slate-700",children:[e&&(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("span",{className:"bg-slate-100 dark:bg-slate-300 p-2 w-8 h-8 rounded-full text-center flex items-center justify-center",children:(0,t.jsx)(c.Z,{width:18})}),(0,t.jsx)("p",{className:"mt-0.5 font-semibold text-slate-700 dark:text-slate-100",children:e})]}),p&&(0,t.jsx)("div",{className:"animate-spin relative flex w-5 h-5 ml-2",children:(0,t.jsx)(d.Z,{})}),j&&(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:"bg-red-100 p-2 w-8 h-8 rounded-full text-center flex items-center justify-center",children:(0,t.jsx)(h.Z,{width:18})}),(0,t.jsx)("span",{className:"text-slate-700 dark:text-slate-100",children:"Sad news, the search has failed! Please try again."})]}),a&&(0,t.jsx)("div",{role:"alert","aria-live":"polite",children:a}),f&&!j&&(0,t.jsxs)("div",{className:"flex items-center gap-4 dark:text-white",children:[(0,t.jsx)("span",{className:"bg-green-500 p-2 w-8 h-8 rounded-full text-center flex items-center justify-center",children:(0,t.jsx)(o.Z,{width:18,className:"text-white"})}),(0,t.jsx)("h3",{className:"font-semibold",children:"Answer:"}),f]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.I,{placeholder:"Ask a question...",name:"search",value:e,onChange:e=>s(e.target.value),className:"col-span-3"}),(0,t.jsx)(x.Z,{className:"absolute top-3 right-5 h-4 w-4 text-gray-300 transition-opacity ".concat(e?"opacity-100":"opacity-0")})]})]}),(0,t.jsx)("footer",{className:"search-footer",children:(0,t.jsx)(r.z,{type:"submit",className:"bg-red-500",children:"Ask"})})]})]})}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=3454)}),_N_E=e.O()}]);